(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"1O8S":function(t,e,s){"use strict";s.r(e);s("pNMO"),s("4Brf");var r=s("sWYD"),n={props:["placeholder","value","isInvalid","attributes"],computed:{formattedDate:function(){return this.value instanceof Date?Object(r.a)(this.value,"yyyy-MM-dd"):""}}},o=s("KHd+"),a=Object(o.a)(n,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-date-picker",{attrs:{placeholder:t.placeholder,value:t.value,popover:{visibility:"click"},attributes:t.attributes},on:{input:function(e){return t.$emit("input",e)}}},[s("input",{staticClass:"form-control",class:{"is-invalid":t.isInvalid},attrs:{type:"text",readonly:"",placeholder:t.placeholder},domProps:{value:t.formattedDate}})])}),[],!1,null,null,null).exports,i=s("q+rm"),c={computed:{formattedDuration:{get:function(){return this.$store.getters.taskLogForm.duration},set:function(t){this.$store.dispatch("setTaskLogFormDuration",t)}},description:{get:function(){return this.$store.getters.taskLogForm.description},set:function(t){this.$store.dispatch("setTaskLogFormDescription",t)}},date:{get:function(){return this.$store.getters.taskLogForm.date},set:function(t){this.$store.dispatch("setTaskLogFormDate",t)}},errors:function(){return this.$store.getters.taskLogErrors},cancelDisabled:function(){return""===this.formattedDuration&&""===this.description&&null===this.date}},data:function(){return{attrs:[{key:"today",highlight:"purple",dates:new Date}]}},methods:{saveTaskLogForm:function(){var t=this;this.$store.dispatch("saveTaskLogForm").then((function(e){t.$store.dispatch("fetchMonthResults"),t.$store.dispatch("fetchDateInfo",t.$store.getters.selectedDate)}))},cancel:function(){this.$store.dispatch("resetTaskLogForm")}},components:{DatePicker:a}},l=Object(o.a)(c,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{on:{submit:function(e){return e.preventDefault(),t.saveTaskLogForm(e)}}},[s("div",{staticClass:"form-row"},[s("div",{staticClass:"col-5"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("description")},attrs:{placeholder:"Description"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"col-auto"},[s("date-picker",{attrs:{placeholder:"Date",isInvalid:t.errors.has("date"),attributes:t.attrs},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),t._v(" "),s("div",{staticClass:"col-auto"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.formattedDuration,expression:"formattedDuration"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("duration")},attrs:{type:"text",placeholder:"Duration"},domProps:{value:t.formattedDuration},on:{input:function(e){e.target.composing||(t.formattedDuration=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"col-auto"},[s("button",{staticClass:"btn btn-primary"},[t._v("Submit")]),t._v(" "),s("button",{staticClass:"btn btn-secondary",attrs:{type:"button",disabled:t.cancelDisabled},on:{click:t.cancel}},[t._v("Cancel")])])])])}),[],!1,null,null,null).exports,u=(s("0oug"),s("TeQF"),s("QWBl"),s("4mDm"),s("5DmW"),s("27RR"),s("tkto"),s("07d7"),s("5s+n"),s("PKPk"),s("FZtP"),s("3bBZ"),s("o0o1")),d=s.n(u);s("ls82");function f(t,e,s,r,n,o,a){try{var i=t[o](a),c=i.value}catch(t){return void s(t)}i.done?e(c):Promise.resolve(c).then(r,n)}function p(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,r)}return s}function v(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?p(Object(s),!0).forEach((function(e){h(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):p(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function h(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var b={computed:{taskLogs:function(){var t=[],e=!0,s=!1,r=void 0;try{for(var n,o=this.$store.getters.taskLogs[Symbol.iterator]();!(e=(n=o.next()).done);e=!0){var a=n.value;t.push(v({},a,{duration:Object(i.b)(a.duration)}))}}catch(t){s=!0,r=t}finally{try{e||null==o.return||o.return()}finally{if(s)throw r}}return t},toDeleteTaskLog:function(){return this.$store.getters.toDeleteTaskLog}},methods:{editTaskLog:function(t){this.$store.dispatch("editTaskLog",t)},deleteTaskLog:function(t){var e,s=this;return(e=d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.$store.dispatch("deleteTaskLog",t);case 2:if(!e.sent){e.next=8;break}return e.next=6,s.$store.dispatch("fetchMonthResults");case 6:return e.next=8,s.$store.dispatch("fetchDateInfo",s.$store.getters.selectedDate);case 8:case"end":return e.stop()}}),e)})),function(){var t=this,s=arguments;return new Promise((function(r,n){var o=e.apply(t,s);function a(t){f(o,r,n,a,i,"next",t)}function i(t){f(o,r,n,a,i,"throw",t)}a(void 0)}))})()},revokeDelete:function(t){this.$store.dispatch("revokeDeleteTaskLog",t)}},mounted:function(){this.$store.dispatch("fetchTaskLogs")}},m=Object(o.a)(b,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t._m(0),t._v(" "),0===t.taskLogs.length?s("div",{staticClass:"row p-1 border-top"},[s("div",{staticClass:"col-12"},[t._v("No task logs")])]):t._e(),t._v(" "),t._l(t.taskLogs,(function(e,r){return s("div",{key:e.id,staticClass:"row p-1 border-top"},[s("div",{staticClass:"col-3"},[t._v(t._s(e.description))]),t._v(" "),s("div",{staticClass:"col-3"},[t._v(t._s(e.date))]),t._v(" "),s("div",{staticClass:"col-3"},[t._v(t._s(e.duration))]),t._v(" "),s("div",{staticClass:"col-3"},[s("button",{staticClass:"btn btn-warning",attrs:{type:"button"},on:{click:function(e){return t.editTaskLog(r)}}},[s("i",{staticClass:"fa fa-pencil-alt"})]),t._v(" "),s("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){return t.deleteTaskLog(r)},blur:function(e){return t.revokeDelete(r)}}},[t._m(1,!0),t._v(" "),s("transition",{attrs:{name:"slide-right"}},[t.toDeleteTaskLog&&t.toDeleteTaskLog.id==e.id?s("div",{staticClass:"float-left pl-1"},[s("span",[t._v("Delete")])]):t._e()])],1)])])}))],2)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row border-bottom p-1 font-weight-bold"},[e("div",{staticClass:"col-3"},[this._v("Description")]),this._v(" "),e("div",{staticClass:"col-3"},[this._v("Date")]),this._v(" "),e("div",{staticClass:"col-3"},[this._v("Duration")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"float-left"},[e("i",{staticClass:"fa fa-trash delete-icon"})])}],!1,null,null,null).exports,g=(s("x0AG"),s("L2JU"));function _(t,e,s,r,n,o,a){try{var i=t[o](a),c=i.value}catch(t){return void s(t)}i.done?e(c):Promise.resolve(c).then(r,n)}function k(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,r)}return s}function D(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var y={computed:function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?k(Object(s),!0).forEach((function(e){D(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):k(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},Object(g.b)(["monthResultsWithSelected","monthSelectedDateInfo","toDeleteTaskLog"])),mounted:function(){this.$store.dispatch("fetchDateInfo",new Date)},methods:{selectDate:function(t){this.$store.dispatch("fetchDateInfo",t.date)},pageChange:function(t){this.$store.dispatch("changeMonth",t)},formatDate:function(t){return Object(r.a)(new Date(t),"dd/MM")},toText:function(t){return Object(i.b)(t)},editTaskLog:function(t){var e=this.$store.getters.taskLogs.findIndex((function(e){return e.id===t}));e>=0&&this.$store.dispatch("editTaskLog",e)},deleteTaskLog:function(t){var e,s=this;return(e=d.a.mark((function e(){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((r=s.$store.getters.taskLogs.findIndex((function(e){return e.id===t})))>=0)){e.next=10;break}return e.next=4,s.$store.dispatch("deleteTaskLog",r);case 4:if(!e.sent){e.next=10;break}return e.next=8,s.$store.dispatch("fetchMonthResults");case 8:return e.next=10,s.$store.dispatch("fetchDateInfo",s.$store.getters.selectedDate);case 10:case"end":return e.stop()}}),e)})),function(){var t=this,s=arguments;return new Promise((function(r,n){var o=e.apply(t,s);function a(t){_(o,r,n,a,i,"next",t)}function i(t){_(o,r,n,a,i,"throw",t)}a(void 0)}))})()},revokeDelete:function(t){var e=this.$store.getters.taskLogs.findIndex((function(e){return e.id===t}));e>=0&&this.$store.dispatch("revokeDeleteTaskLog",e)}}},C={components:{TaskLogForm:l,TaskLogList:m,TaskLogMonthCalendar:Object(o.a)(y,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-4"},[s("v-calendar",{attrs:{"is-expanded":"",attributes:t.monthResultsWithSelected},on:{dayclick:t.selectDate,"update:from-page":t.pageChange}})],1),t._v(" "),s("div",{staticClass:"col-auto"},t._l(t.monthSelectedDateInfo,(function(e,r){return s("div",{key:r,staticClass:"m-1"},[t._v("\n            "+t._s(t.formatDate(e.date))+": "+t._s(e.description)+" "+t._s(t.toText(e.duration))+" "),s("br")])})),0),t._v(" "),s("div",{staticClass:"col-auto"},t._l(t.monthSelectedDateInfo,(function(e){return s("div",{key:e.id,staticClass:"m-1"},[s("button",{staticClass:"btn btn-warning py-0 px-1",attrs:{type:"button"},on:{click:function(s){return t.editTaskLog(e.id)}}},[s("i",{staticClass:"fa fa-pencil-alt"})]),t._v(" "),s("button",{staticClass:"btn btn-danger btn-confirm-delete py-0 px-1",attrs:{type:"button"},on:{click:function(s){return t.deleteTaskLog(e.id)},blur:function(s){return t.revokeDelete(e.id)}}},[t._m(0,!0),t._v(" "),s("transition",{attrs:{name:"slide-right"}},[t.toDeleteTaskLog&&t.toDeleteTaskLog.id==e.id?s("div",{staticClass:"float-left pl-1"},[s("span",[t._v("Delete")])]):t._e()])],1),t._v(" "),s("br")])})),0)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"float-left"},[e("i",{staticClass:"fa fa-trash"})])}],!1,null,null,null).exports}},O=Object(o.a)(C,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container-fluid mt-3"},[e("div",{staticClass:"card mb-4"},[e("div",{staticClass:"card-body"},[e("task-log-form")],1)]),this._v(" "),e("div",{staticClass:"card mb-4"},[e("div",{staticClass:"card-body"},[e("task-log-month-calendar")],1)]),this._v(" "),e("div",{staticClass:"card mb-4"},[e("div",{staticClass:"card-body"},[e("task-log-list")],1)])])}),[],!1,null,null,null);e.default=O.exports},"KHd+":function(t,e,s){"use strict";function r(t,e,s,r,n,o,a,i){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=s,l._compiled=!0),r&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),a?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},l._ssrRegister=c):n&&(c=i?function(){n.call(this,this.$root.$options.shadowRoot)}:n),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var d=l.beforeCreate;l.beforeCreate=d?[].concat(d,c):[c]}return{exports:t,options:l}}s.d(e,"a",(function(){return r}))}}]);