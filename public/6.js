(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"1O8S":function(t,e,s){"use strict";s.r(e);s("pNMO"),s("4Brf");var r=s("sWYD"),o={props:["placeholder","value","isInvalid","attributes"],computed:{formattedDate:function(){return this.value instanceof Date?Object(r.a)(this.value,"yyyy-MM-dd"):""}}},n=s("KHd+"),a=Object(n.a)(o,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-date-picker",{attrs:{placeholder:t.placeholder,value:t.value,popover:{visibility:"click"},attributes:t.attributes},on:{input:function(e){return t.$emit("input",e)}}},[s("input",{staticClass:"form-control",class:{"is-invalid":t.isInvalid},attrs:{type:"text",readonly:"",placeholder:t.placeholder},domProps:{value:t.formattedDate}})])}),[],!1,null,null,null).exports,i=s("q+rm"),c={computed:{formattedDuration:{get:function(){return this.$store.getters.taskLogForm.duration},set:function(t){this.$store.dispatch("setTaskLogFormDuration",t)}},description:{get:function(){return this.$store.getters.taskLogForm.description},set:function(t){this.$store.dispatch("setTaskLogFormDescription",t)}},date:{get:function(){return this.$store.getters.taskLogForm.date},set:function(t){this.$store.dispatch("setTaskLogFormDate",t)}},errors:function(){return this.$store.getters.taskLogErrors},cancelDisabled:function(){return""===this.formattedDuration&&""===this.description&&null===this.date}},data:function(){return{attrs:[{key:"today",highlight:"purple",dates:new Date}]}},methods:{saveTaskLogForm:function(){this.$store.dispatch("saveTaskLogForm")},cancel:function(){this.$store.dispatch("resetTaskLogForm")}},components:{DatePicker:a}},l=Object(n.a)(c,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{on:{submit:function(e){return e.preventDefault(),t.saveTaskLogForm(e)}}},[s("div",{staticClass:"form-row"},[s("div",{staticClass:"col-5"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("description")},attrs:{placeholder:"Description"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"col-auto"},[s("date-picker",{attrs:{placeholder:"Date",isInvalid:t.errors.has("date"),attributes:t.attrs},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),t._v(" "),s("div",{staticClass:"col-auto"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.formattedDuration,expression:"formattedDuration"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("duration")},attrs:{type:"text",placeholder:"Duration"},domProps:{value:t.formattedDuration},on:{input:function(e){e.target.composing||(t.formattedDuration=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"col-auto"},[s("button",{staticClass:"btn btn-primary"},[t._v("Submit")]),t._v(" "),s("button",{staticClass:"btn btn-secondary",attrs:{type:"button",disabled:t.cancelDisabled},on:{click:t.cancel}},[t._v("Cancel")])])])])}),[],!1,null,null,null).exports;s("0oug"),s("TeQF"),s("QWBl"),s("4mDm"),s("5DmW"),s("27RR"),s("tkto"),s("07d7"),s("PKPk"),s("FZtP"),s("3bBZ");function u(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,r)}return s}function d(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?u(Object(s),!0).forEach((function(e){p(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):u(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function p(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var f={computed:{taskLogs:function(){var t=[],e=!0,s=!1,r=void 0;try{for(var o,n=this.$store.getters.taskLogs[Symbol.iterator]();!(e=(o=n.next()).done);e=!0){var a=o.value;t.push(d({},a,{duration:Object(i.b)(a.duration)}))}}catch(t){s=!0,r=t}finally{try{e||null==n.return||n.return()}finally{if(s)throw r}}return t},toDeleteTaskLog:function(){return this.$store.getters.toDeleteTaskLog}},methods:{editTaskLog:function(t){this.$store.dispatch("editTaskLog",t)},deleteTaskLog:function(t){this.$store.dispatch("deleteTaskLog",t)},revokeDelete:function(t){this.$store.dispatch("revokeDeleteTaskLog",t)}},mounted:function(){this.$store.dispatch("fetchTaskLogs")}},v=Object(n.a)(f,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t._m(0),t._v(" "),0===t.taskLogs.length?s("div",{staticClass:"row p-1 border-top"},[s("div",{staticClass:"col-12"},[t._v("No task logs")])]):t._e(),t._v(" "),t._l(t.taskLogs,(function(e,r){return s("div",{key:e.id,staticClass:"row p-1 border-top"},[s("div",{staticClass:"col-3"},[t._v(t._s(e.description))]),t._v(" "),s("div",{staticClass:"col-3"},[t._v(t._s(e.date))]),t._v(" "),s("div",{staticClass:"col-3"},[t._v(t._s(e.duration))]),t._v(" "),s("div",{staticClass:"col-3"},[s("button",{staticClass:"btn btn-warning",attrs:{type:"button"},on:{click:function(e){return t.editTaskLog(r)}}},[s("i",{staticClass:"fa fa-pencil-alt"})]),t._v(" "),s("button",{staticClass:"btn btn-danger btn-confirm-delete",class:{"to-confirm":t.toDeleteTaskLog&&t.toDeleteTaskLog.id==e.id},attrs:{type:"button"},on:{click:function(e){return t.deleteTaskLog(r)},blur:function(e){return t.revokeDelete(r)}}},[s("i",{staticClass:"fa fa-times delete-icon"}),s("span",{staticClass:"delete-text"},[t._v(" Delete")])])])])}))],2)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row border-bottom p-1 font-weight-bold"},[e("div",{staticClass:"col-3"},[this._v("Description")]),this._v(" "),e("div",{staticClass:"col-3"},[this._v("Date")]),this._v(" "),e("div",{staticClass:"col-3"},[this._v("Duration")])])}],!1,null,null,null).exports,h=s("L2JU");function b(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,r)}return s}function m(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var g={computed:function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?b(Object(s),!0).forEach((function(e){m(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):b(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},Object(h.b)(["monthResults","monthSelectedDateInfo"])),mounted:function(){this.$store.dispatch("fetchDateInfo",Object(r.a)(new Date,"yyyy-MM-dd"))},methods:{selectDate:function(t){this.$store.dispatch("fetchDateInfo",t.id)},pageChange:function(t){this.$store.dispatch("changeMonth",t)},formatDate:function(t){return Object(r.a)(new Date(t),"dd/MM")},toText:function(t){return Object(i.b)(t)}}},_={components:{TaskLogForm:l,TaskLogList:v,TaskLogMonthCalendar:Object(n.a)(g,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-4"},[s("v-calendar",{attrs:{"is-expanded":"",attributes:t.monthResults},on:{dayclick:t.selectDate,"update:from-page":t.pageChange}})],1),t._v(" "),s("div",{staticClass:"col-4"},t._l(t.monthSelectedDateInfo,(function(e,r){return s("span",{key:r},[t._v("\n            "+t._s(t.formatDate(e.date))+": "+t._s(e.description)+" "+t._s(t.toText(e.duration))+" "),s("br")])})),0)])}),[],!1,null,null,null).exports}},y=Object(n.a)(_,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container-fluid mt-3"},[e("div",{staticClass:"card mb-4"},[e("div",{staticClass:"card-body"},[e("task-log-form")],1)]),this._v(" "),e("div",{staticClass:"card mb-4"},[e("div",{staticClass:"card-body"},[e("task-log-month-calendar")],1)]),this._v(" "),e("div",{staticClass:"card mb-4"},[e("div",{staticClass:"card-body"},[e("task-log-list")],1)])])}),[],!1,null,null,null);e.default=y.exports},"KHd+":function(t,e,s){"use strict";function r(t,e,s,r,o,n,a,i){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=s,l._compiled=!0),r&&(l.functional=!0),n&&(l._scopeId="data-v-"+n),a?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},l._ssrRegister=c):o&&(c=i?function(){o.call(this,this.$root.$options.shadowRoot)}:o),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var d=l.beforeCreate;l.beforeCreate=d?[].concat(d,c):[c]}return{exports:t,options:l}}s.d(e,"a",(function(){return r}))}}]);
//# sourceMappingURL=6.js.map